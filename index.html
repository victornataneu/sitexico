<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Xicos Multimarcas</title>
    <link rel="stylesheet" href="/assets/css/xicos.css">
    <script src="script.js" defer></script> <!-- O script.js será carregado -->
    <script>
        // Função para carregar o conteúdo dinâmico
        document.addEventListener("DOMContentLoaded", function() {
            fetch('/folder/index.md') // ou /folder/index.json se usar JSON
            .then(response => response.text())
            .then(data => {
                const content = parseMarkdown(data);
                document.getElementById('logo').src = content.logo;
                document.getElementById('slogan').textContent = content.slogan;
                document.getElementById('whatsapp-text').textContent = content.whatsapp;
                document.getElementById('delivery-rules').textContent = content.delivery_rules;
                document.getElementById('payment-options').textContent = content.payment_options;

                // Carregar produtos dinamicamente
                const productsDiv = document.getElementById('products');
                content.products.forEach(product => {
                    let imgElement = document.createElement('img');
                    imgElement.src = product.image;
                    imgElement.alt = product.name;
                    productsDiv.appendChild(imgElement);
                });
            });
        });

        // Função básica de parsing de Markdown (você pode melhorar isso com uma biblioteca Markdown)
        function parseMarkdown(mdText) {
            // Simples conversão de chaves para JSON se precisar
            const result = {};
            mdText.split("\n").forEach(line => {
                if (line.startsWith('---')) return;
                const [key, value] = line.split(': ');
                result[key.trim()] = value ? value.trim().replace(/"/g, '') : "";
            });
            return result;
        }
    </script>
</head>
<body>
    <section class="section-main">
        <header class="logo">
            <img id="logo" class="imglogo-01" src="/assets/img/logoxico.jpeg" alt="Logo da empresa">
            <div class="main-img">
                <h1 id="slogan"></h1>
                <h1 id="whatsapp-text"></h1>
            </div>
        </header>
        
        <!-- Regras de entrega -->
        <h2>Regras de Entregas</h2>
        <div id="delivery-rules"></div>

        <!-- Formas de pagamento -->
        <h2>Formas de Pagamento</h2>
        <div id="payment-options"></div>

        <!-- Produtos -->
        <h2>Produtos</h2>
        <div id="products"></div>
    </section>
    <footer class="rodape">
        <h1>Fale Conosco</h1>
        <div class="redes-sociais-e-contatos">
            <a href="https://www.instagram.com/xico__multimarcas" target="_blank">
                <img src="/assets/img/icons8-instagram.svg" alt="Instagram">
            </a>
            <a href="https://wa.me/5562994953404" target="_blank">
                <img src="/assets/img/icons8-whatsapp.svg" alt="WhatsApp">
            </a>
            <p>
                <a href="https://www.google.com/maps" target="_blank">
                    <img src="/assets/img/addresswhite.png" alt="Endereço">
                </a>
                <span class="ende">R. Creso Gomes, 85 - Qd19 Lt28 - Vila Sao Jose, Jaraguá - GO, 76330-000</span>
            </p>
        </div>
    </footer>
</body>
</html>
